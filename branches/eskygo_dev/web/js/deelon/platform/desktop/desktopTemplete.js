Namespace.register("com.deelon.platform.desktop");com.deelon.platform.desktop.getColumnTemp=function(e,d,c){var b=d.split(",");var f;if(c==0){f='<table width="100%"><tr>';}else{f='<table width="100%" class="wtMonth"><tr>';}for(var a=1;a<=e;a++){f+='<td width="'+b[a-1]+'%" id='+a+' name="test" col='+a+' class="nonactivated" width="600" valign="top">';f+='<div id="columns"><ul id="column'+a+'" class="column" valign="top"><br></ul></div></td>';}f+="</tr></table>";return f;};com.deelon.platform.desktop.homeTemp=function(b,a){$.post(__ctx+"/platform/system/desktopMycolumn/getMycolumnData.ht",function(c){var d=com.deelon.platform.desktop.getColumnTemp(b,a,0);$("#colshtml").append(d);$(c).each(function(e){columnUrl=c[e].columnUrl;$.post(__ctx+"/platform/system/desktopColumn/getTemp.ht?id="+c[e].columnId,function(f){var j,g;if(columnUrl==null||columnUrl.trim()==""){j='<li  class="widget color-blue" col="'+c[e].col+'" sn="'+c[e].sn+'"  id="'+c[e].columnId+'"><div class="widget-head"><h3>'+c[e].columnName+"</h3>"+'<span id=more"'+c[e].columnId+'" style="display:none"><a href="'+__ctx+columnUrl+'" class="more">更多</a>'+columnUrl+"</span>"+'</div><div class="widget-content"><ul>';g="</ul></div></li>";}else{j='<li  class="widget color-blue" col="'+c[e].col+'" sn="'+c[e].sn+'"  id="'+c[e].columnId+'"><div class="widget-head"><h3>'+c[e].columnName+"</h3>"+'<span id=more"'+c[e].columnId+'"><a href="'+__ctx+columnUrl+'" class="more">更多</a></span>'+'</div><div class="widget-content"><ul>';g="</ul></div></li>";}var h="";var i=f;h+="<li>"+i+"</li>";$("#columns #"+"column"+c[e].col).append(j+h+g);});});$("#columns").append('<script type="text/javascript" src="'+__ctx+'/js/desktop/inettutshome.js"><\/script>');});};com.deelon.platform.desktop.myTemp=function(e,d,b,a,g){var f;$("#news").attr("href","news.ht?id="+d);$("#change").attr("href","change.ht?id="+d);var c;$.ajax({type:"POST",url:__ctx+"/platform/system/desktopMycolumn/getMycolumnData.ht",beforeSend:function(h){$("#londing").show();},success:function(h){c=com.deelon.platform.desktop.getColumnTemp(e,b,a,g);$("#colshtml").append(c);$(h).each(function(j){f=h[j].columnUrl;$.ajax({url:__ctx+"/platform/system/desktopColumn/getTemp.ht?id="+h[j].columnId,async:false,success:function(i){if(f==null||f.trim()==""){var n='<li  class="widget color-blue" col="'+h[j].col+'" sn="'+h[j].sn+'"  id="'+h[j].columnId+'"><div class="widget-head"><h3>'+h[j].columnName+"</h3>"+'<span id=more"'+h[j].columnId+'" style="display:none"><a href="'+__ctx+f+'" class="more">更多</a>'+f+"</span>"+'</div><div class="widget-content"><ul>';var k="</ul></div></li>";}else{var n='<li  class="widget color-blue" col="'+h[j].col+'" sn="'+h[j].sn+'"  id="'+h[j].columnId+'"><div class="widget-head"><h3>'+h[j].columnName+"</h3>"+'<span id=more"'+h[j].columnId+'"><a href="'+__ctx+f+'" class="more">更多</a></span>'+'</div><div class="widget-content"><ul>';var k="</ul></div></li>";}var l="";var m=i;l+="<li>"+m+"</li>";$("#columns #"+"column"+h[j].col).append(n+l+k);}});});$("#columns").append('<script type="text/javascript" src="'+__ctx+'/js/desktop/jquery-ui-personalized-1.6rc2.min.js"><\/script>');if(g=="home"){$("#columns").append('<script type="text/javascript" src="'+__ctx+'/js/desktop/inettutshome.js"><\/script>');}else{if(g=="news"){$("#columns").append('<script type="text/javascript" src="'+__ctx+'/js/desktop/inettutsnew.js"><\/script>');}else{if(g=="show"){$("#columns").append('<script type="text/javascript" src="'+__ctx+'/js/desktop/inettutsshow.js"><\/script>');}else{if(g=="change"){$("#columns").append('<script type="text/javascript" src="'+__ctx+'/js/desktop/inettutscg.js"><\/script>');}}}}}});};com.deelon.platform.desktop.saveCol=function(d,a,b){var c="[";$("#columns .widget:not(#intro)").each(function(){var e="";var g=$(this).attr("id");var f=$(this).parent("ul").attr("id");e=f.substr(6,6);var h=$(this).attr("sn");c+="{layoutId:'"+d+"',columnId:'"+g+"',col:'"+e+"',sn:'"+h+"'},";});c=c.substring(0,c.length-1);c+="]";$.ajax({type:"POST",url:__ctx+"/platform/system/"+a+"/saveCol.ht",data:{layoutConfig:c,id:d,cols:b},success:function(e){var f=new com.deelon.form.ResultMessage(e);if(f.isSuccess()){ref=true;$.ligerDialog.success("保存布局成功！","提示信息");}else{$.ligerDialog.success("保存布局失败！","提示信息");ref=false;}}});};