if(typeof FlowUtil=="undefined"){FlowUtil={};}FlowUtil.startFlow=function(a,c){var b=__ctx+"/platform/bpm/bpmDefinition/getCanDirectStart.ht";var d={defId:a};$.post(b,d,function(g){if(g){var f=function(j){if(!j){return;}var i=__ctx+"/platform/bpm/task/startFlow.ht";var h={actDefId:c};$.post(i,h,function(k){var l=new com.deelon.form.ResultMessage(k);if(l.isSuccess()){$.ligerDialog.success("启动流程成功!","提示信息");}else{$.ligerDialog.error("启动流程失败!","出错了");}});};$.ligerDialog.confirm("需要启动流程吗?","提示信息",f);}else{var e=__ctx+"/platform/bpm/task/startFlowForm.ht?defId="+a;jQuery.openFullWindow(e);}});};FlowUtil.recover=function(b){if(!b){b={};}var a=__ctx+"/platform/bpm/processRun/checkRecover.ht";if(b.backToStart==0){a=__ctx+"/platform/bpm/processRun/checkRedo.ht";}var c={runId:b.runId,backToStart:b.backToStart};$.post(a,c,function(h){var j=new com.deelon.form.ResultMessage(h);if(j.isSuccess()){var f=__ctx+"/platform/bpm/processRun/recoverDialog.ht?runId="+b.runId+"&backToStart="+b.backToStart;if(b.backToStart==0){f=__ctx+"/platform/bpm/processRun/redoDialog.ht?runId="+b.runId+"&backToStart="+b.backToStart;}var i=500;var e=300;b=$.extend({},{dialogWidth:i,dialogHeight:e,help:0,status:0,scroll:0,center:1,reload:true},b);var d="dialogWidth="+b.dialogWidth+"px;dialogHeight="+b.dialogHeight+"px;help="+b.help+";status="+b.status+";scroll="+b.scroll+";center="+b.center;f=f.getNewUrl();var g=window.showModalDialog(f,"",d);if(g&&b.callback){b.callback(this);}}else{$.ligerDialog.err($lang.tip.msg,$lang_js.bpm.flowUtil.recover.failure,j.getMessage());}});};